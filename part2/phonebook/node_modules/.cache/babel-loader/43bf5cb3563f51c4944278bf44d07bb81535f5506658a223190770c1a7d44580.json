{"ast":null,"code":"var _jsxFileName = \"/Users/chris/Work/Capstone/Prep/react-open-2022/part2/phonebook/src/App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport phonebookService from './services/phonebook';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Person = _ref => {\n  let {\n    person,\n    onClick\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    children: [person.name, \" \", person.number, \" \", /*#__PURE__*/_jsxDEV(Button, {\n      text: \"delete\",\n      onClick: onClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 5,\n      columnNumber: 75\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 41\n  }, this);\n};\n_c = Person;\nconst Persons = _ref2 => {\n  let {\n    persons,\n    onClick\n  } = _ref2;\n  return persons.map(person => /*#__PURE__*/_jsxDEV(Person, {\n    person: person,\n    onClick: () => {\n      onClick(person.id);\n    }\n  }, person.name, false, {\n    fileName: _jsxFileName,\n    lineNumber: 6,\n    columnNumber: 65\n  }, this));\n};\n_c2 = Persons;\nconst PersonForm = props => {\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: props.onSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      label: \"name:\",\n      onChange: props.onNameChange,\n      value: props.nameValue\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      label: \"number:\",\n      onChange: props.onNumberChange,\n      value: props.numberValue\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 12,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 12,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 9,\n    columnNumber: 5\n  }, this);\n};\n_c3 = PersonForm;\nconst Input = _ref3 => {\n  let {\n    label,\n    onChange,\n    value\n  } = _ref3;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [label, /*#__PURE__*/_jsxDEV(\"input\", {\n      onChange: onChange,\n      value: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 22\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 17,\n    columnNumber: 10\n  }, this);\n};\n_c4 = Input;\nconst Button = _ref4 => {\n  let {\n    text,\n    onClick\n  } = _ref4;\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    onClick: onClick,\n    children: text\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 10\n  }, this);\n};\n_c5 = Button;\nconst App = () => {\n  _s();\n  const [persons, setPersons] = useState([]);\n  const [filtered, setFiltered] = useState([]);\n  const getAll = () => {\n    phonebookService.getAll().then(data => {\n      setPersons(data);\n      setFiltered(data);\n    });\n  };\n  const addNew = person => {\n    phonebookService.addNew(person).then(added => {\n      const newPersons = persons.concat(added);\n      setPersons(newPersons);\n      setFiltered(newPersons); // why not setFiltered(persons)?\n      setNewName('');\n      setNewNumber('');\n    });\n  };\n  const deletePerson = id => {\n    phonebookService.deletePerson(id).then(response => console.log(response));\n  };\n  useEffect(getAll, []);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (persons.some(person => person.name === newName)) {\n      alert(`${newName} is already added to phonebook`);\n      return;\n    }\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    };\n    addNew(newPerson);\n  };\n  const handleFilter = event => {\n    const input = event.target.value.toLowerCase();\n    setFiltered(persons.filter(person => person.name.toLowerCase().includes(input)));\n  };\n  const handleNewName = event => setNewName(event.target.value);\n  const handleNewNumber = event => setNewNumber(event.target.value);\n  const handleDeleteClick = id => {\n    deletePerson(id);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      label: \"filter shown with\",\n      onChange: handleFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"add a new\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PersonForm, {\n      onSubmit: handleSubmit,\n      onNameChange: handleNewName,\n      onNumberChange: handleNewNumber,\n      nameValue: newName,\n      numberValue: newNumber\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Persons, {\n      persons: filtered,\n      onClick: handleDeleteClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"5id5jBXVlT4nf/M3Z+IoWx99oC4=\");\n_c6 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"Person\");\n$RefreshReg$(_c2, \"Persons\");\n$RefreshReg$(_c3, \"PersonForm\");\n$RefreshReg$(_c4, \"Input\");\n$RefreshReg$(_c5, \"Button\");\n$RefreshReg$(_c6, \"App\");","map":{"version":3,"names":["useState","useEffect","phonebookService","Person","person","onClick","name","number","Persons","persons","map","id","PersonForm","props","onSubmit","onNameChange","nameValue","onNumberChange","numberValue","Input","label","onChange","value","Button","text","App","setPersons","filtered","setFiltered","getAll","then","data","addNew","added","newPersons","concat","setNewName","setNewNumber","deletePerson","response","console","log","newName","newNumber","handleSubmit","event","preventDefault","some","alert","newPerson","handleFilter","input","target","toLowerCase","filter","includes","handleNewName","handleNewNumber","handleDeleteClick"],"sources":["/Users/chris/Work/Capstone/Prep/react-open-2022/part2/phonebook/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport phonebookService from './services/phonebook'\n\n\nconst Person = ({ person, onClick }) => <li>{person.name} {person.number} <Button text=\"delete\" onClick={onClick} /></li>\nconst Persons = ({ persons, onClick }) => persons.map(person => <Person key={person.name} person={person} onClick={() => {onClick(person.id)}} />)\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.onSubmit}>\n      <Input label=\"name:\" onChange={props.onNameChange} value={props.nameValue} />\n      <Input label=\"number:\" onChange={props.onNumberChange} value={props.numberValue} />\n      <div><button type=\"submit\">add</button></div>\n    </form>\n  )\n}\nconst Input = ({ label, onChange, value }) => {\n  return <div>{label}<input onChange={onChange} value={value} /></div>\n}\nconst Button = ({ text, onClick }) => {\n  return <button onClick={onClick}>{text}</button>\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filtered, setFiltered] = useState([]);\n\n  const getAll = () => {\n    phonebookService.getAll()\n      .then(data => {\n        setPersons(data)\n        setFiltered(data)\n      })\n  }\n\n  const addNew = (person) => {\n    phonebookService.addNew(person)\n      .then(added => {\n        const newPersons = persons.concat(added);\n        setPersons(newPersons);\n        setFiltered(newPersons); // why not setFiltered(persons)?\n        setNewName('');\n        setNewNumber('');\n      })\n  }\n\n  const deletePerson = id => {\n    phonebookService.deletePerson(id)\n      .then(response => console.log(response))\n  }\n\n  useEffect(getAll, []);\n  \n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (persons.some(person => person.name === newName)) {\n      alert(`${newName} is already added to phonebook`);\n      return\n    }\n    const newPerson = { name: newName, number: newNumber };\n    addNew(newPerson);\n  }\n\n  const handleFilter = (event) => {\n    const input = (event.target.value).toLowerCase();\n    setFiltered(persons.filter(person => person.name.toLowerCase().includes(input)))\n  }\n  const handleNewName = (event) => setNewName(event.target.value);\n  const handleNewNumber = (event) => setNewNumber(event.target.value);\n  const handleDeleteClick = (id) => {\n    deletePerson(id);\n  }\n\n\n  return (\n    <div>\n      {/* <div>debug: {persons.length}</div> */}\n      <h2>Phonebook</h2>\n      <Input label='filter shown with' onChange={handleFilter} />\n      <h2>add a new</h2>\n      <PersonForm\n        onSubmit={handleSubmit}\n        onNameChange={handleNewName}\n        onNumberChange={handleNewNumber}\n        nameValue={newName}\n        numberValue={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={filtered} onClick={handleDeleteClick} />\n    </div>\n  )\n}\n\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}