{"ast":null,"code":"var _jsxFileName = \"/Users/chris/Work/Capstone/Prep/react-open-2022/part2/phonebook/src/App.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Person = _ref => {\n  let {\n    person\n  } = _ref;\n  return /*#__PURE__*/_jsxDEV(\"li\", {\n    children: [person.name, \" \", person.number]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 4,\n    columnNumber: 32\n  }, this);\n};\n_c = Person;\nconst Persons = _ref2 => {\n  let {\n    persons\n  } = _ref2;\n  return persons.map(person => /*#__PURE__*/_jsxDEV(Person, {\n    person: person\n  }, person.name, false, {\n    fileName: _jsxFileName,\n    lineNumber: 5,\n    columnNumber: 56\n  }, this));\n};\n_c2 = Persons;\nconst PersonForm = props => {\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    onSubmit: props.onSubmit,\n    children: [/*#__PURE__*/_jsxDEV(Input, {\n      label: \"name:\",\n      onChange: props.onNameChange,\n      value: props.nameValue\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      label: \"number:\",\n      onChange: props.onNumberChange,\n      value: props.numberValue\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 10,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"add\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 12\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 11,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 8,\n    columnNumber: 5\n  }, this);\n};\n_c3 = PersonForm;\nconst Input = _ref3 => {\n  let {\n    label,\n    onChange,\n    value\n  } = _ref3;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [label, /*#__PURE__*/_jsxDEV(\"input\", {\n      onChange: onChange,\n      value: value\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 16,\n      columnNumber: 22\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 10\n  }, this);\n};\n_c4 = Input;\nconst App = () => {\n  _s();\n  const [persons, setPersons] = useState([]);\n  const [filtered, setFiltered] = useState([]);\n  const getAll = () => {\n    axios.get('http://localhost:3001/persons').then(response => {\n      setPersons(response.data);\n      setFiltered(response.data);\n    });\n  };\n  const addNew = person => {\n    axios.post('http://localhost:3001/persons', person).then(response => {\n      const newPersons = persons.concat(response.data);\n      setPersons(newPersons);\n      setFiltered(newPersons); // why not setFiltered(persons)?\n      setNewName('');\n      setNewNumber('');\n    });\n  };\n  useEffect(getAll, []);\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const handleSubmit = event => {\n    event.preventDefault();\n    if (persons.some(person => person.name === newName)) {\n      alert(`${newName} is already added to phonebook`);\n      return;\n    }\n    const newPerson = {\n      name: newName,\n      number: newNumber\n    };\n    addNew(newPerson);\n  };\n  const handleFilter = event => {\n    const input = event.target.value.toLowerCase();\n    setFiltered(persons.filter(person => person.name.toLowerCase().includes(input)));\n  };\n  const handleNewName = event => setNewName(event.target.value);\n  const handleNewNumber = event => setNewNumber(event.target.value);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      label: \"filter shown with\",\n      onChange: handleFilter\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"add a new\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(PersonForm, {\n      onSubmit: handleSubmit,\n      onNameChange: handleNewName,\n      onNumberChange: handleNewNumber,\n      nameValue: newName,\n      numberValue: newNumber\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Numbers\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Persons, {\n      persons: filtered\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(App, \"5id5jBXVlT4nf/M3Z+IoWx99oC4=\");\n_c5 = App;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5;\n$RefreshReg$(_c, \"Person\");\n$RefreshReg$(_c2, \"Persons\");\n$RefreshReg$(_c3, \"PersonForm\");\n$RefreshReg$(_c4, \"Input\");\n$RefreshReg$(_c5, \"App\");","map":{"version":3,"names":["useState","useEffect","axios","Person","person","name","number","Persons","persons","map","PersonForm","props","onSubmit","onNameChange","nameValue","onNumberChange","numberValue","Input","label","onChange","value","App","setPersons","filtered","setFiltered","getAll","get","then","response","data","addNew","post","newPersons","concat","setNewName","setNewNumber","newName","newNumber","handleSubmit","event","preventDefault","some","alert","newPerson","handleFilter","input","target","toLowerCase","filter","includes","handleNewName","handleNewNumber"],"sources":["/Users/chris/Work/Capstone/Prep/react-open-2022/part2/phonebook/src/App.js"],"sourcesContent":["import { useState, useEffect } from 'react'\nimport axios from 'axios'\n\nconst Person = ({ person }) => <li>{person.name} {person.number}</li>\nconst Persons = ({ persons }) => persons.map(person => <Person key={person.name} person={person} />)\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.onSubmit}>\n      <Input label=\"name:\" onChange={props.onNameChange} value={props.nameValue} />\n      <Input label=\"number:\" onChange={props.onNumberChange} value={props.numberValue} />\n      <div><button type=\"submit\">add</button></div>\n    </form>\n  )\n}\nconst Input = ({ label, onChange, value }) => {\n  return <div>{label}<input onChange={onChange} value={value} /></div>\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [filtered, setFiltered] = useState([]);\n\n  const getAll = () => {\n    axios\n      .get('http://localhost:3001/persons')\n      .then(response => {\n        setPersons(response.data)\n        setFiltered(response.data)\n      })\n  }\n\n  const addNew = (person) => {\n    axios\n      .post('http://localhost:3001/persons', person)\n      .then(response => {\n        const newPersons = persons.concat(response.data);\n        setPersons(newPersons);\n        setFiltered(newPersons); // why not setFiltered(persons)?\n        setNewName('');\n        setNewNumber('');\n      })\n  }\n\n  useEffect(getAll, []);\n  \n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    if (persons.some(person => person.name === newName)) {\n      alert(`${newName} is already added to phonebook`);\n      return\n    }\n    const newPerson = { name: newName, number: newNumber };\n    addNew(newPerson);\n  }\n\n  const handleFilter = (event) => {\n    const input = (event.target.value).toLowerCase();\n    setFiltered(persons.filter(person => person.name.toLowerCase().includes(input)))\n  }\n  const handleNewName = (event) => setNewName(event.target.value);\n  const handleNewNumber = (event) => setNewNumber(event.target.value);\n\n\n  return (\n    <div>\n      {/* <div>debug: {persons.length}</div> */}\n      <h2>Phonebook</h2>\n      <Input label='filter shown with' onChange={handleFilter} />\n      <h2>add a new</h2>\n      <PersonForm\n        onSubmit={handleSubmit}\n        onNameChange={handleNewName}\n        onNumberChange={handleNewNumber}\n        nameValue={newName}\n        numberValue={newNumber}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={filtered} />\n    </div>\n  )\n}\n\nexport default App"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}